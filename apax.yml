name: "@huskyre/pub-control-lib"
version: 0.4.0
type: lib
keywords:
  - library
targets:
  - "1500"
  - plcsim
variables:
  APAX_BUILD_ARGS:
    - "--debug" # Generate debug information for target "1500"
files:
  - 'doc'
  - 'src'
  - 'snippets'
devDependencies:
  "@ax/sdk": 2311.0.1
  "@ax/st-lang-contrib-library-toolbox": ^0.17.2
registries:
  '@simatic-ax': 'https://npm.pkg.github.com/'

installStrategy: strict
apaxVersion: 3.1.0
dependencies:
  "@simatic-ax/snippetscollection": ^0.1.3

scripts:
  pubPack:
    - apax version $1 # set new version with arg from cli
    - apax build
    - apax pack
    - apax publish --package *.tgz --registry https://npm.pkg.github.com
    - rm *.tgz
